{% extends 'base.html' %}

{% block title %}Facebook Account Manager{% endblock %}

{% block extra_css %}
<style>
	.card {
		margin: 20px 0;
		box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
	}

	.card-header {
		background-color: #007bff;
		color: white;
		font-weight: bold;
		font-size: 1.5rem;
		text-align: left;
	}

	.card-body {
		font-size: 1.1rem;
		line-height: 1.8;
		text-align: left;
	}

	.avatar {
		width: 150px;
		height: 150px;
		border-radius: 50%;
		margin-right: 20px;
		border: 4px solid #007bff;
	}

	.profile-wrapper {
		display: flex;
		align-items: center;
		justify-content: left;
		gap: 30px;
	}

	.profile-wrapper p {
		font-size: 1.2rem;
		font-weight: bold;
		color: #333;
	}
</style>
{% endblock %}

{% block content %}
<div class="container mt-5">
	<h1 class="text-dark mb-4 text-left">Facebook Account Manager</h1>

	<div class="card">
		<div class="card-header">
			Your Facebook Account
		</div>
		<div class="card-body">
			{% if account %}
			<div class="profile-wrapper">
				<img src="{{ account.avatar_url }}" alt="Avatar" class="avatar">
				<div>
					<p><strong>Name:</strong> {{ account.name }}</p>
					<p><strong>Facebook User ID:</strong> {{ account.facebook_user_id }}</p>
					{% if account.email %}
					<p><strong>Email:</strong> {{ account.email }}</p>
					{% endif %}
					<p><strong>Number of Pages:</strong> {{ account.pages|length }}</p>
					<p><strong>Number of Ad Accounts:</strong> {{ account.facebook_ad_accounts|length }}</p>
					<p><strong>Number of Campaigns:</strong> {{ account.facebook_campaigns|length }}</p>
					<a href="{{ url_for('facebook.delete_fb_account', id=account.id) }}" class="btn btn-danger btn-sm">Delete Cache Pages</a>
				</div>
			</div>
			<div class="mt-3">
			</div>
			{% else %}
			<p class="text-left">No account found. Please log in using Facebook.</p>
			<button class="btn btn-primary btn-lg" onclick="fbLogin()">Login with Facebook</button>
			{% endif %}
		</div>
	</div>
</div>
{% endblock %}
