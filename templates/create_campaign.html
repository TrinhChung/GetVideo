{% extends 'base.html' %}
{% block title %}Create Facebook Campaign{% endblock %}
{% block content %}
<div class="container">
	<h2 class="my-4">Create Facebook Campaign</h2>

	<form method="POST" action="{{ url_for('ads_manager.create_fb_campaign') }}">
		{{ form.csrf_token }}

		<div class="mb-3">
			<label for="ad_account_id" class="form-label">Select Ad Account</label>
			<select class="form-control" id="ad_account_id" name="ad_account_id" required>
				<option value="" disabled selected>Select an ad account</option>
				{% for ad_account in ad_accounts %}
				<option value="{{ ad_account.facebook_ad_account_id }}"
					{% if ad_account.facebook_ad_account_id == form.ad_account_id.data %}selected{% endif %}>{{ ad_account.name }}
				</option>
				{% endfor %}
			</select>
		</div>

		<div class="mb-3">
			<label for="campaign_name" class="form-label">Campaign Name</label>
			{{ form.campaign_name(class="form-control", id="campaign_name") }}
		</div>

		<div class="mb-3">
			<label for="objective" class="form-label">Objective</label>
			{{ form.objective(class="form-control", id="objective") }}
		</div>

		<div class="mb-3">
			<label for="status" class="form-label">Status</label>
			{{ form.status(class="form-control", id="status") }}
		</div>

		<div class="row mb-3">
			<div class="col-md-6">
				<label for="start_time" class="form-label">Start Time</label>
				<input type="datetime-local" class="form-control" id="start_time" name="start_time"
					value="{{ form.start_time.data|datetimeformat('%Y-%m-%dT%H:%M') }}" required>
			</div>
			<div class="col-md-6">
				<label for="end_time" class="form-label">End Time</label>
				<input type="datetime-local" class="form-control" id="end_time" name="end_time"
					value="{{ form.end_time.data|datetimeformat('%Y-%m-%dT%H:%M') }}" required>
			</div>
		</div>

		<div class="mb-3">
			<label for="special_ad_categories" class="form-label">Special Ad Categories</label>
			<select class="form-control" id="special_ad_categories" name="special_ad_categories" required>
				<option value="NONE" {% if form.special_ad_categories.data == 'NONE' %}selected{% endif %}>None</option>
				<option value="HOUSING" {% if form.special_ad_categories.data == 'HOUSING' %}selected{% endif %}>Housing
				</option>
				<option value="EMPLOYMENT" {% if form.special_ad_categories.data == 'EMPLOYMENT' %}selected{% endif %}>
					Employment</option>
				<option value="CREDIT" {% if form.special_ad_categories.data == 'CREDIT' %}selected{% endif %}>Credit</option>
			</select>
		</div>

		<button type="submit" class="btn btn-primary">Create Campaign</button>
	</form>
</div>
{% endblock %}